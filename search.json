[
  {
    "objectID": "meetings/25.1-meeting.html",
    "href": "meetings/25.1-meeting.html",
    "title": "First RTUG meeting",
    "section": "",
    "text": "The first R-Trento Users Meeting will be held in a yet to be defined location and on a yet to be defined date.\n\n\n\n\n\n\nWarning\n\n\n\nThis is just a placeholder."
  },
  {
    "objectID": "posts.html",
    "href": "posts.html",
    "title": "Members posts",
    "section": "",
    "text": "This is a selection of the most interesting posts contributed by our members.\nIf you want to contribute, head on to the GitHub repo, fork it, add a new post in the posts folder, tag it with the post category and make a pull request.\n\nPosts\n\n\n\n\n\n\n\n   \n     \n     \n       Order By\n       Default\n         \n          Title\n        \n         \n          Date - Oldest\n        \n         \n          Date - Newest\n        \n         \n          Author\n        \n     \n  \n    \n      \n      \n    \n\n\n\n\n\n\n\nLogarithmic scales in GGPlot2\n\n\nWith the excuse of doing signal analysis in R, this post discusses on how to deal with logarithmic scalses and tick-marks in GGPlot2, and how to generate log-spaced grids to…\n\n\n\n\n\n\nFeb 9, 2025\n\n\n\n\n\n\n\n\nNo matching items"
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "R-Trento Users Group (RTUG)",
    "section": "",
    "text": "The R-Trento Users Group is a shared space for academics, scholars, students, and professionals living and working in Trentino and surrounding areas that are passionate about the R language and its suite of tools.\n\nMission\nRTUG mission is to spread the use or R language and tools within academia, industry and public administration.\n\n\n\n\n\nNext meeting\n\n\n\n\n\nDate\n\n\nTitle\n\n\nAuthor\n\n\nDescription\n\n\n\n\n\n\nFeb 5, 2025\n\n\nFirst RTUG meeting\n\n\nPaolo Bosetti\n\n\n\n\n\n\n\n\nNo matching items\n\n\n\n\nNews\n\n\n   \n     \n     \n       Order By\n       Default\n         \n          Title\n        \n         \n          Date - Oldest\n        \n         \n          Date - Newest\n        \n         \n          Author\n        \n     \n  \n    \n      \n      \n    \n\n\n\n\n\n\n\n\n\n\nLogarithmic scales in GGPlot2\n\n\n\n\n\n\npost\n\n\nR\n\n\ntidyverse\n\n\nGGPlot2\n\n\nsignal analysis\n\n\n\nWith the excuse of doing signal analysis in R, this post discusses on how to deal with logarithmic scalses and tick-marks in GGPlot2, and how to generate log-spaced grids to have an equally dense set of points in the resulting plot. \n\n\n\n\n\nFeb 9, 2025\n\n\n5 min\n\n\n\n\n\n\n\n\n\n\n\n\nNew Logo\n\n\n\n\n\n\nRTUG\n\n\nwebsite\n\n\nannouncement\n\n\n\n\n\n\n\n\n\nFeb 6, 2025\n\n\nPaolo Bosetti\n\n\n1 min\n\n\n\n\n\n\n\n\n\n\n\n\nOpening!\n\n\n\n\n\n\nRTUG\n\n\nmilestone\n\n\nannouncement\n\n\n\n\n\n\n\n\n\nFeb 5, 2025\n\n\nPaolo Bosetti\n\n\n1 min\n\n\n\n\n\n\nNo matching items"
  },
  {
    "objectID": "posts/002-logo/index.html",
    "href": "posts/002-logo/index.html",
    "title": "New Logo",
    "section": "",
    "text": "We have a new group logo\n\n\n\n\n\nRTUG logo\n\n\nThe new RTUG logo is a hexagon, on the style of Tidyverse packages, it takes the colors of Trentino Province lettering, and of course it incorporates the GNU-R language logo."
  },
  {
    "objectID": "posts/003-logscale/index.html",
    "href": "posts/003-logscale/index.html",
    "title": "Logarithmic scales in GGPlot2",
    "section": "",
    "text": "Rationale\nRecently I had to port in R some Matlab code using the tf and bode functions, which are respectively used to calculate the transfer function and create a Bode plot of it.\nThe R package control luckily provides the analogous functions, although its control::bodeplot function uses the base plot interface. Of course, I wanted to make an analogous plot with GGplot2 tools.\n\n\nExample: vibration isolation\nLet us use the example for a lumped parameters model of a vibration isolation system, that is, a 1-DoF mass-spring-damper system. Briefly, its transfer function can be created as:\n\nM &lt;- 10\nK &lt;- 1000\nC &lt;- 50\n\n(H &lt;- tf(c(C/K, 1),c(M/K, C/K, 1)))\n\n\ny1:\n        0.05 s^1 + 1 \n  - - - - - - - - - - - - -\n    0.01 s^2 + 0.05 s + 1 \n\n\nTransfer Function: Continuous time model \n\n\nIts Bode representation can be obtained by:\n\nbode(H) %&gt;% str()\n\nList of 3\n $ w    : num [1:10000] 0 0.01 0.02 0.03 0.04 ...\n $ mag  : num [1:10000] 0.00 8.69e-06 3.48e-05 7.82e-05 1.39e-04 ...\n $ phase: num [1:10000] 0.00 -2.87e-08 -2.29e-07 -7.74e-07 -1.83e-06 ...\n\n\nThat is, a list of three vectors reporting frequency (w), magnitude in dB (mag), and phase in degrees (phase). Why the control developers decided to return a list of equally sized vectors rather a data frame is beyond me, but let’s deal with what we have.\n\nbode(H, w=1:1e4) %&gt;% {\n  tibble(\n    `frequency (rad/s)` = .$w, \n    `magnitude (dB)` = .$mag,\n    `phase (deg)` = .$phase\n  )\n} %&gt;% \n  head() %&gt;% \n  knitr::kable()\n\n\n\n\nfrequency (rad/s)\nmagnitude (dB)\nphase (deg)\n\n\n\n\n1\n0.0870762\n-0.0288644\n\n\n2\n0.3509189\n-0.2362699\n\n\n3\n0.7993794\n-0.8294252\n\n\n4\n1.4452744\n-2.0825653\n\n\n5\n2.3044892\n-4.3987054\n\n\n6\n3.3880407\n-8.4155907\n\n\n\n\n\nTo make the Bode plot, which reports magnitude vs. frequency on top of phase vs. frequency, we make the tibble tidy and use facet_wrap:\n\nbode(H, w=1:1e4) %&gt;% {\n  tibble(\n    `frequency (rad/s)` = .$w, \n    `magnitude (dB)` = .$mag,\n    `phase (deg)` = .$phase\n  )\n} %&gt;%\n  pivot_longer(-`frequency (rad/s)`) %&gt;% \n  ggplot(aes(x=`frequency (rad/s)`, y=value)) +\n  geom_line() +\n  geom_point(alpha = 0.2) +\n  facet_wrap(~name, nrow=2, scales=\"free\") +\n  scale_x_log10()\n\n\n\n\n\n\n\n\nNote the followings:\n\nin facet_wrap, we use the option scales=\"free\": this allows to independently rescale the axes of each facet;\nthe horizontal axis is logarithmic, but there is only one secondary grid line, while we usually have secondary gridlines at 2, 3, …, 9;\nthe point density is not evenly spaced on the logarithmic axis.\n\nSo, here we want to tackle the problems in 2. and 3..\n\n\nLog-tickmarks: Solution\nThe scale_x_log10() function allows to specify the breaks and the minor_breaks, which we can exploit to fix the gridlines. How can we get a log-spaced sequence? an elegant solution uses the outer product %o% of two vectors: that of the ticks, and that of the orders of magnitude (ooms):\n\nticks &lt;- 2:9\nooms &lt;- 10^seq(0, 4)\n\nticks %o% ooms\n\n     [,1] [,2] [,3] [,4]  [,5]\n[1,]    2   20  200 2000 20000\n[2,]    3   30  300 3000 30000\n[3,]    4   40  400 4000 40000\n[4,]    5   50  500 5000 50000\n[5,]    6   60  600 6000 60000\n[6,]    7   70  700 7000 70000\n[7,]    8   80  800 8000 80000\n[8,]    9   90  900 9000 90000\n\n\nLooking at the columns , in sequence, we have what we want, so:\n\n(breaks &lt;- as.vector(ticks %o% ooms))\n\n [1]     2     3     4     5     6     7     8     9    20    30    40    50\n[13]    60    70    80    90   200   300   400   500   600   700   800   900\n[25]  2000  3000  4000  5000  6000  7000  8000  9000 20000 30000 40000 50000\n[37] 60000 70000 80000 90000\n\n\n\nbode(H, w=1:1e4) %&gt;% {\n  tibble(\n    `frequency (rad/s)` = .$w, \n    `magnitude (dB)` = .$mag,\n    `phase (deg)` = .$phase\n  )\n} %&gt;%\n  pivot_longer(-`frequency (rad/s)`) %&gt;% \n  ggplot(aes(x=`frequency (rad/s)`, y=value)) +\n  geom_line() +\n  geom_point(alpha = 0.2) +\n  facet_wrap(~name, nrow=2, scales=\"free\") +\n  scale_x_log10(minor_breaks=breaks, labels=scales::scientific)\n\n\n\n\n\n\n\n\nBingo!\nNow, we still have too sparse points to the left, and definitely too many points to the right. We can use a similar approach to define the frequency vector.\n\n\nLog-spaced points: Solution\nWe use the same outer product trick, multiplying the vector of orders of magnitude by a vector of positions, exponentially spaced within each magnitude:\n\npts &lt;- 10^seq(0, 1, 0.1) %&gt;% tail(-1)\n(freqs &lt;- as.vector(pts %o% ooms)) %&gt;% head(n=20)\n\n [1]   1.258925   1.584893   1.995262   2.511886   3.162278   3.981072\n [7]   5.011872   6.309573   7.943282  10.000000  12.589254  15.848932\n[13]  19.952623  25.118864  31.622777  39.810717  50.118723  63.095734\n[19]  79.432823 100.000000\n\n\nFinally:\n\npts &lt;- 10^seq(0, 1, 0.01) %&gt;% tail(-1)\nfreqs &lt;- as.vector(pts %o% ooms)\n\nbode(H, w=freqs) %&gt;% {\n  tibble(\n    `frequency (rad/s)` = .$w, \n    `magnitude (dB)` = .$mag,\n    `phase (deg)` = .$phase\n  )\n} %&gt;%\n  pivot_longer(-`frequency (rad/s)`) %&gt;% \n  ggplot(aes(x=`frequency (rad/s)`, y=value)) +\n  geom_line() +\n  geom_point(alpha = 0.2) +\n  facet_wrap(~name, nrow=2, scales=\"free\") +\n  scale_x_log10(minor_breaks=breaks, labels=scales::scientific)\n\n\n\n\n\n\n\n\n\n\nPutting all together\nWe can then put everything together and make a useful function (note that we are now converting the frequencies to Hz):\n\nggbodeplot &lt;- function(tf, fmin=1, fmax=1e4, df=0.01) {\n  ticks &lt;- 2:9\n  pts &lt;- 10^seq(0, 1, df) %&gt;% tail(-1)\n  ooms &lt;- 10^(floor(log10(fmin)):ceiling(log10(fmax)-1))\n  breaks &lt;- as.vector(ticks %o% ooms)\n  freqs &lt;- as.vector(pts %o% ooms)\n  \n  bode(tf, freqs*2*pi) %&gt;% {\n    tibble(f=.$w/(2*pi), `magnitude (dB)`=.$mag, `phase (deg)`=.$phase)} %&gt;% \n    pivot_longer(-f) %&gt;% \n    ggplot(aes(x=f, y=value)) +\n    geom_line() +\n    scale_x_log10(minor_breaks=breaks, labels=scales::scientific) +\n    facet_wrap(~name, nrow=2, scales=\"free\") +\n    labs(x=\"frequency (Hz)\")\n}\n\nH %&gt;% ggbodeplot(fmin=0.1, fmax=100)\n\n\n\n\n\n\n\n\n\n\nOne last thing…\nWell, the above is mostly of academic interest, at least for what pertains the logarithmic grid lines: it shows a nice and useful way for creating regularly spaced vectors, which is really useful to evenly distribute abscissa values when the axis scale is not linear. But thanks to the scales package there is a quick way for having any axis, whichever the scale, with a number of minor breaks different to 1 (the defaiult in GGplot). In fact, we can just use the scales::minor_breaks_n() function to generate minor grid lines at will:\n\nggbodeplot &lt;- function(tf, fmin=1, fmax=1e4, df=0.01) {\n  pts &lt;- 10^seq(0, 1, df) %&gt;% tail(-1)\n  ooms &lt;- 10^(floor(log10(fmin)):ceiling(log10(fmax)-1))\n  freqs &lt;- as.vector(pts %o% ooms)\n  \n  bode(tf, freqs*2*pi) %&gt;% {\n    tibble(f=.$w/(2*pi), `magnitude (dB)`=.$mag, `phase (deg)`=.$phase)} %&gt;% \n    pivot_longer(-f) %&gt;% \n    ggplot(aes(x=f, y=value)) +\n    geom_line() +\n    scale_x_log10(\n      minor_breaks=scales::minor_breaks_n(10), \n      labels= ~ latex2exp::TeX(paste0(\"$10^{\", log10(.), \"}$\"))\n    ) +\n    facet_wrap(~name, nrow=2, scales=\"free\") +\n    labs(x=\"frequency (Hz)\")\n}\n\nH %&gt;% ggbodeplot(fmin=0.1, fmax=100)\n\n\n\n\n\n\n\n\nwhere the trick is to set scale_x_log10(minor_breaks=scales::minor_breaks_n(10)). Note that the argument is the number of intervals rather than the number of grid lines (so, 10 rather than 9). As a final suggestion, try and use the same command with a scale_x_continuous: it works whichever is the axis transformation (including identity). Also, note the labels lambda function used for formatting tick labels.\n\nThat’s all, folks!"
  },
  {
    "objectID": "contact.html",
    "href": "contact.html",
    "title": "Contacts",
    "section": "",
    "text": "If you are interested in the RTUG activities, please contact Paolo Bosetti (paolo.bosetti at unitn dot it)"
  },
  {
    "objectID": "members.html",
    "href": "members.html",
    "title": "Members",
    "section": "",
    "text": "Professor at the Department of Industrial Engineering, University of Trento.\nSee paolobosetti.quarto.pub for teaching materials and personal blog.\nCode repository on GitHub\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nWarning\n\n\n\nUnder construction.\n\n\n\n\n\n\n\n\n\n\n\nWarning\n\n\n\nUnder construction.\n\n\n\n\n\n\n\n\n\n\n\nWarning\n\n\n\nUnder construction.\n\n\n\n\n\n\n\n\n\n\n\nWarning\n\n\n\nUnder construction."
  },
  {
    "objectID": "members.html#paolo-bosetti",
    "href": "members.html#paolo-bosetti",
    "title": "Members",
    "section": "",
    "text": "Professor at the Department of Industrial Engineering, University of Trento.\nSee paolobosetti.quarto.pub for teaching materials and personal blog.\nCode repository on GitHub"
  },
  {
    "objectID": "members.html#maria-michela-dickson",
    "href": "members.html#maria-michela-dickson",
    "title": "Members",
    "section": "",
    "text": "Warning\n\n\n\nUnder construction."
  },
  {
    "objectID": "members.html#giuseppe-espa",
    "href": "members.html#giuseppe-espa",
    "title": "Members",
    "section": "",
    "text": "Warning\n\n\n\nUnder construction."
  },
  {
    "objectID": "members.html#diego-giuliani",
    "href": "members.html#diego-giuliani",
    "title": "Members",
    "section": "",
    "text": "Warning\n\n\n\nUnder construction."
  },
  {
    "objectID": "members.html#flavio-santi",
    "href": "members.html#flavio-santi",
    "title": "Members",
    "section": "",
    "text": "Warning\n\n\n\nUnder construction."
  },
  {
    "objectID": "posts/001-opening/001-opening.html",
    "href": "posts/001-opening/001-opening.html",
    "title": "Opening!",
    "section": "",
    "text": "The Users Group is instantiated\n\n\n\n\n\nAn important milestone\n\n\nOn Feb. 5th, 2025, Giuseppe Espa, Maria Michela Dickson, Flavio Santi, Diego Giuliani and Paolo Bosetti had the first ffounding meeting of the R-Trento Users Group.\n\nRTUG &lt;- list(\"Giuseppe\", \"Maria Michela\", \"Flavio\", \"Diego\", \"Paolo\")\n\nThat’s a milestone."
  },
  {
    "objectID": "bibliography.html",
    "href": "bibliography.html",
    "title": "Bibliography",
    "section": "",
    "text": "Members of RTUG have contributed to the following topics:\n\nCRAN Packages\n\nADAS Utils (Design of Experiments)\n\n\n\n\n\n\n\nWarning\n\n\n\nUnder construction.\n\n\n\n\nBooks\n\nFondamenti di statistica. Per le misure e l’analisi dati in ambito industriale. Con esempi in GNU-R. Paolo Bosetti, Libreriauniversitaria.it, 2022.\n\n\n\n\n\n\n\nWarning\n\n\n\nUnder construction.\n\n\n\n\nPapers\n\n\n\n\n\n\nWarning\n\n\n\nUnder construction."
  },
  {
    "objectID": "meetings.html",
    "href": "meetings.html",
    "title": "Meetings",
    "section": "",
    "text": "Meetings organized by R-Trento Users Group\n\n\n\n\n\n\nWarning\n\n\n\nUnder construction.\n\n\n\n\n\n\n\n\n\n   \n     \n     \n       Order By\n       Default\n         \n          Date - Oldest\n        \n         \n          Date - Newest\n        \n         \n          Title\n        \n         \n          Author\n        \n     \n  \n    \n      \n      \n    \n\n\n\n\n\nDate\n\n\nTitle\n\n\nAuthor\n\n\nDescription\n\n\n\n\n\n\nFeb 5, 2025\n\n\nFirst RTUG meeting\n\n\nPaolo Bosetti\n\n\n\n\n\n\n\n\nNo matching items"
  }
]